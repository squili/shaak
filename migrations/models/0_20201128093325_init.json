{
  "upgrade": [
    "CREATE TABLE IF NOT EXISTS \"globalsettings\" (\n    \"id\" SMALLINT NOT NULL  PRIMARY KEY DEFAULT 0,\n    \"default_prefix\" TEXT NOT NULL,\n    \"default_verbosity\" BOOL NOT NULL\n);\nCREATE TABLE IF NOT EXISTS \"guild\" (\n    \"id\" BIGINT NOT NULL  PRIMARY KEY,\n    \"delete_at\" TIMESTAMPTZ\n);\nCREATE TABLE IF NOT EXISTS \"banutilbanevent\" (\n    \"id\" SERIAL NOT NULL PRIMARY KEY,\n    \"message_id\" BIGINT NOT NULL,\n    \"message_channel\" BIGINT NOT NULL,\n    \"target_id\" BIGINT NOT NULL,\n    \"banner_id\" BIGINT,\n    \"ban_reason\" TEXT NOT NULL,\n    \"timestamp\" TIMESTAMPTZ NOT NULL  DEFAULT CURRENT_TIMESTAMP,\n    \"banned\" BOOL NOT NULL  DEFAULT True,\n    \"reported\" TIMESTAMPTZ,\n    \"guild_id\" BIGINT NOT NULL REFERENCES \"guild\" (\"id\") ON DELETE CASCADE\n);\nCREATE TABLE IF NOT EXISTS \"banutilcrossbanevent\" (\n    \"id\" SERIAL NOT NULL PRIMARY KEY,\n    \"message_id\" BIGINT NOT NULL,\n    \"message_channel\" BIGINT NOT NULL,\n    \"banned\" BOOL NOT NULL  DEFAULT False,\n    \"reported\" TIMESTAMPTZ,\n    \"event_id\" INT NOT NULL REFERENCES \"banutilbanevent\" (\"id\") ON DELETE CASCADE,\n    \"guild_id\" BIGINT NOT NULL REFERENCES \"guild\" (\"id\") ON DELETE CASCADE\n);\nCREATE TABLE IF NOT EXISTS \"banutilinvite\" (\n    \"id\" SERIAL NOT NULL PRIMARY KEY,\n    \"from_guild_id\" BIGINT NOT NULL REFERENCES \"guild\" (\"id\") ON DELETE CASCADE,\n    \"to_guild_id\" BIGINT NOT NULL REFERENCES \"guild\" (\"id\") ON DELETE CASCADE\n);\nCREATE TABLE IF NOT EXISTS \"banutilsettings\" (\n    \"id\" SERIAL NOT NULL PRIMARY KEY,\n    \"enabled\" BOOL NOT NULL  DEFAULT False,\n    \"foreign_log_channel\" BIGINT,\n    \"domestic_log_channel\" BIGINT,\n    \"guild_id\" BIGINT NOT NULL REFERENCES \"guild\" (\"id\") ON DELETE CASCADE\n);\nCREATE TABLE IF NOT EXISTS \"banutilsubscription\" (\n    \"id\" SERIAL NOT NULL PRIMARY KEY,\n    \"from_guild_id\" BIGINT NOT NULL REFERENCES \"guild\" (\"id\") ON DELETE CASCADE,\n    \"to_guild_id\" BIGINT NOT NULL REFERENCES \"guild\" (\"id\") ON DELETE CASCADE\n);\nCREATE TABLE IF NOT EXISTS \"guildsettings\" (\n    \"id\" SERIAL NOT NULL PRIMARY KEY,\n    \"prefix\" TEXT,\n    \"verbosity\" BOOL,\n    \"auth_role\" BIGINT,\n    \"guild_id\" BIGINT NOT NULL REFERENCES \"guild\" (\"id\") ON DELETE CASCADE\n);\nCREATE TABLE IF NOT EXISTS \"previewfilter\" (\n    \"id\" SERIAL NOT NULL PRIMARY KEY,\n    \"channel_id\" BIGINT NOT NULL,\n    \"guild_id\" BIGINT NOT NULL REFERENCES \"guild\" (\"id\") ON DELETE CASCADE\n);\nCREATE TABLE IF NOT EXISTS \"previewsettings\" (\n    \"id\" SERIAL NOT NULL PRIMARY KEY,\n    \"enabled\" BOOL NOT NULL  DEFAULT False,\n    \"log_channel\" BIGINT,\n    \"guild_id\" BIGINT NOT NULL REFERENCES \"guild\" (\"id\") ON DELETE CASCADE\n);\nCREATE TABLE IF NOT EXISTS \"wordwatchignore\" (\n    \"id\" SERIAL NOT NULL PRIMARY KEY,\n    \"target_id\" BIGINT NOT NULL,\n    \"mention_type\" VARCHAR(2) NOT NULL,\n    \"guild_id\" BIGINT NOT NULL REFERENCES \"guild\" (\"id\") ON DELETE CASCADE\n);\nCREATE TABLE IF NOT EXISTS \"wordwatchpinggroup\" (\n    \"id\" SERIAL NOT NULL PRIMARY KEY,\n    \"name\" TEXT NOT NULL,\n    \"guild_id\" BIGINT NOT NULL REFERENCES \"guild\" (\"id\") ON DELETE CASCADE\n);\nCREATE TABLE IF NOT EXISTS \"wordwatchping\" (\n    \"id\" SERIAL NOT NULL PRIMARY KEY,\n    \"ping_type\" VARCHAR(2) NOT NULL,\n    \"target_id\" BIGINT NOT NULL,\n    \"group_id\" INT NOT NULL REFERENCES \"wordwatchpinggroup\" (\"id\") ON DELETE CASCADE\n);\nCREATE TABLE IF NOT EXISTS \"wordwatchsettings\" (\n    \"id\" SERIAL NOT NULL PRIMARY KEY,\n    \"enabled\" BOOL NOT NULL  DEFAULT False,\n    \"log_channel\" BIGINT,\n    \"header\" TEXT,\n    \"guild_id\" BIGINT NOT NULL REFERENCES \"guild\" (\"id\") ON DELETE CASCADE\n);\nCREATE TABLE IF NOT EXISTS \"wordwatchwatch\" (\n    \"id\" SERIAL NOT NULL PRIMARY KEY,\n    \"pattern\" TEXT NOT NULL,\n    \"match_type\" INT NOT NULL,\n    \"auto_delete\" BOOL NOT NULL,\n    \"ignore_case\" BOOL NOT NULL,\n    \"group_id\" INT REFERENCES \"wordwatchpinggroup\" (\"id\") ON DELETE SET NULL,\n    \"guild_id\" BIGINT NOT NULL REFERENCES \"guild\" (\"id\") ON DELETE CASCADE\n);\nCREATE TABLE IF NOT EXISTS \"aerich\" (\n    \"id\" SERIAL NOT NULL PRIMARY KEY,\n    \"version\" VARCHAR(255) NOT NULL,\n    \"app\" VARCHAR(20) NOT NULL,\n    \"content\" TEXT NOT NULL\n);"
  ]
}